<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Otedama Miner</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Custom Title Bar -->
  <div class="title-bar">
    <div class="title-bar-drag">
      <img src="../../assets/logo-small.png" class="app-icon" alt="Otedama">
      <span class="app-title">Otedama Miner</span>
    </div>
    <div class="title-bar-controls">
      <button class="title-bar-button" id="minimize-btn">
        <svg width="10" height="1"><rect width="10" height="1" fill="currentColor"/></svg>
      </button>
      <button class="title-bar-button" id="maximize-btn">
        <svg width="10" height="10"><rect width="10" height="10" fill="none" stroke="currentColor" stroke-width="1"/></svg>
      </button>
      <button class="title-bar-button close" id="close-btn">
        <svg width="10" height="10"><path d="M0,0 L10,10 M10,0 L0,10" stroke="currentColor" stroke-width="1"/></svg>
      </button>
    </div>
  </div>

  <!-- Navigation Sidebar -->
  <nav class="sidebar">
    <ul class="nav-list">
      <li class="nav-item active" data-page="dashboard">
        <svg class="nav-icon" viewBox="0 0 24 24">
          <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
        </svg>
        <span>Dashboard</span>
      </li>
      <li class="nav-item" data-page="mining">
        <svg class="nav-icon" viewBox="0 0 24 24">
          <path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"/>
        </svg>
        <span>Mining</span>
      </li>
      <li class="nav-item" data-page="wallet">
        <svg class="nav-icon" viewBox="0 0 24 24">
          <path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>
        </svg>
        <span>Wallet</span>
      </li>
      <li class="nav-item" data-page="stats">
        <svg class="nav-icon" viewBox="0 0 24 24">
          <path d="M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"/>
        </svg>
        <span>Statistics</span>
      </li>
      <li class="nav-item" data-page="settings">
        <svg class="nav-icon" viewBox="0 0 24 24">
          <path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
        </svg>
        <span>Settings</span>
      </li>
    </ul>
  </nav>

  <!-- Main Content Area -->
  <main class="main-content">
    <!-- Dashboard Page -->
    <div id="dashboard-page" class="page active">
      <div class="page-header">
        <h1>Mining Dashboard</h1>
        <button class="primary-button large" id="main-mining-button">
          <span class="button-icon">▶</span>
          <span class="button-text">Start Mining</span>
        </button>
      </div>

      <div class="dashboard-grid">
        <!-- Mining Status Card -->
        <div class="card mining-status-card">
          <h2>Mining Status</h2>
          <div class="status-indicator" id="mining-status">
            <div class="status-dot offline"></div>
            <span class="status-text">Not Mining</span>
          </div>
          <div class="status-details">
            <div class="detail-row">
              <span>Pool:</span>
              <span id="current-pool">Not connected</span>
            </div>
            <div class="detail-row">
              <span>Uptime:</span>
              <span id="mining-uptime">0h 0m 0s</span>
            </div>
          </div>
        </div>

        <!-- Hashrate Card -->
        <div class="card hashrate-card">
          <h2>Hashrate</h2>
          <div class="hashrate-display">
            <span class="hashrate-value" id="current-hashrate">0</span>
            <span class="hashrate-unit">H/s</span>
          </div>
          <canvas id="hashrate-chart" class="chart"></canvas>
        </div>

        <!-- Shares Card -->
        <div class="card shares-card">
          <h2>Shares</h2>
          <div class="shares-stats">
            <div class="share-stat">
              <span class="share-label">Accepted</span>
              <span class="share-value accepted" id="shares-accepted">0</span>
            </div>
            <div class="share-stat">
              <span class="share-label">Rejected</span>
              <span class="share-value rejected" id="shares-rejected">0</span>
            </div>
            <div class="share-stat">
              <span class="share-label">Ratio</span>
              <span class="share-value" id="share-ratio">0%</span>
            </div>
          </div>
          <div class="share-progress">
            <div class="progress-bar">
              <div class="progress-fill" id="share-progress"></div>
            </div>
          </div>
        </div>

        <!-- Earnings Card -->
        <div class="card earnings-card">
          <h2>Earnings</h2>
          <div class="earnings-display">
            <div class="earning-item">
              <span class="earning-label">Today</span>
              <span class="earning-value" id="earnings-today">0.00000000 BTC</span>
            </div>
            <div class="earning-item">
              <span class="earning-label">Total</span>
              <span class="earning-value" id="earnings-total">0.00000000 BTC</span>
            </div>
            <div class="earning-item">
              <span class="earning-label">Pending</span>
              <span class="earning-value pending" id="earnings-pending">0.00000000 BTC</span>
            </div>
          </div>
        </div>

        <!-- Hardware Monitor Card -->
        <div class="card hardware-card">
          <h2>Hardware Monitor</h2>
          <div class="hardware-stats">
            <div class="hardware-item">
              <svg class="hardware-icon" viewBox="0 0 24 24">
                <path d="M17 2H7c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-5 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm5-3H7V5h10v12z"/>
              </svg>
              <div class="hardware-info">
                <span class="hardware-name">CPU</span>
                <span class="hardware-temp" id="cpu-temp">--°C</span>
                <div class="hardware-usage">
                  <div class="usage-bar">
                    <div class="usage-fill" id="cpu-usage"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="hardware-item">
              <svg class="hardware-icon" viewBox="0 0 24 24">
                <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
              </svg>
              <div class="hardware-info">
                <span class="hardware-name">GPU</span>
                <span class="hardware-temp" id="gpu-temp">--°C</span>
                <div class="hardware-usage">
                  <div class="usage-bar">
                    <div class="usage-fill" id="gpu-usage"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Quick Actions Card -->
        <div class="card actions-card">
          <h2>Quick Actions</h2>
          <div class="quick-actions">
            <button class="action-button" id="pause-mining">
              <svg viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
              <span>Pause</span>
            </button>
            <button class="action-button" id="view-logs">
              <svg viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/></svg>
              <span>Logs</span>
            </button>
            <button class="action-button" id="open-calculator">
              <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM7 7h2v2H7V7zm0 4h2v2H7v-2zm0 4h2v2H7v-2zm10 4h-6v-2h6v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2zm-4 4h-2v-2h2v2zm0-4h-2V7h2v2z"/></svg>
              <span>Calculator</span>
            </button>
            <button class="action-button" id="refresh-stats">
              <svg viewBox="0 0 24 24"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
              <span>Refresh</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Mining Page -->
    <div id="mining-page" class="page">
      <div class="page-header">
        <h1>Mining Control</h1>
      </div>
      
      <div class="mining-control-panel">
        <div class="card large-card">
          <h2>Mining Configuration</h2>
          
          <div class="config-section">
            <h3>Hardware Selection</h3>
            <div class="hardware-toggles">
              <label class="toggle-switch">
                <input type="checkbox" id="use-cpu" checked>
                <span class="toggle-slider"></span>
                <span class="toggle-label">Use CPU</span>
              </label>
              <label class="toggle-switch">
                <input type="checkbox" id="use-gpu" checked>
                <span class="toggle-slider"></span>
                <span class="toggle-label">Use GPU</span>
              </label>
            </div>
          </div>

          <div class="config-section">
            <h3>CPU Settings</h3>
            <div class="slider-control">
              <label>CPU Threads</label>
              <input type="range" id="cpu-threads" min="0" max="16" value="0">
              <span class="slider-value" id="cpu-threads-value">Auto</span>
            </div>
          </div>

          <div class="config-section">
            <h3>GPU Settings</h3>
            <div class="slider-control">
              <label>GPU Intensity</label>
              <input type="range" id="gpu-intensity" min="0" max="100" value="75">
              <span class="slider-value" id="gpu-intensity-value">75%</span>
            </div>
          </div>

          <div class="config-section">
            <h3>Pool Selection</h3>
            <select id="pool-select" class="form-select">
              <option value="">Loading pools...</option>
            </select>
            <button class="secondary-button" id="test-pool">Test Connection</button>
          </div>

          <div class="mining-controls">
            <button class="primary-button large" id="mining-control-button">
              <span class="button-icon">▶</span>
              <span class="button-text">Start Mining</span>
            </button>
          </div>
        </div>

        <div class="card">
          <h2>Mining Algorithm</h2>
          <div class="algorithm-info">
            <div class="info-row">
              <span>Algorithm:</span>
              <span>SHA-256</span>
            </div>
            <div class="info-row">
              <span>Difficulty:</span>
              <span id="current-difficulty">--</span>
            </div>
            <div class="info-row">
              <span>Block Height:</span>
              <span id="block-height">--</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Wallet Page -->
    <div id="wallet-page" class="page">
      <div class="page-header">
        <h1>Wallet</h1>
      </div>

      <div class="wallet-container">
        <div class="card wallet-card">
          <h2>Bitcoin Wallet</h2>
          <div class="wallet-address">
            <label>Your Bitcoin Address</label>
            <div class="address-display">
              <input type="text" id="btc-address" class="address-input" readonly>
              <button class="copy-button" id="copy-address">
                <svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
              </button>
            </div>
          </div>

          <div class="wallet-balance">
            <div class="balance-item">
              <span class="balance-label">Total Balance</span>
              <span class="balance-value" id="total-balance">0.00000000 BTC</span>
            </div>
            <div class="balance-item">
              <span class="balance-label">Pending</span>
              <span class="balance-value pending" id="pending-balance">0.00000000 BTC</span>
            </div>
            <div class="balance-item">
              <span class="balance-label">Next Payout</span>
              <span class="balance-value" id="next-payout">--</span>
            </div>
          </div>

          <div class="wallet-actions">
            <button class="primary-button" id="request-payout">Request Payout</button>
            <button class="secondary-button" id="view-transactions">View Transactions</button>
          </div>
        </div>

        <div class="card">
          <h2>Payout Settings</h2>
          <div class="payout-settings">
            <div class="setting-item">
              <label>Minimum Payout</label>
              <span>0.001 BTC</span>
            </div>
            <div class="setting-item">
              <label>Payout Fee</label>
              <span>0.0001 BTC</span>
            </div>
            <div class="setting-item">
              <label>Auto Payout</label>
              <label class="toggle-switch small">
                <input type="checkbox" id="auto-payout" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Statistics Page -->
    <div id="stats-page" class="page">
      <div class="page-header">
        <h1>Statistics</h1>
        <div class="time-filter">
          <button class="filter-button active" data-period="24h">24H</button>
          <button class="filter-button" data-period="7d">7D</button>
          <button class="filter-button" data-period="30d">30D</button>
          <button class="filter-button" data-period="all">All</button>
        </div>
      </div>

      <div class="stats-grid">
        <div class="card">
          <h2>Hashrate History</h2>
          <canvas id="hashrate-history-chart" class="chart-large"></canvas>
        </div>

        <div class="card">
          <h2>Shares History</h2>
          <canvas id="shares-history-chart" class="chart-large"></canvas>
        </div>

        <div class="card">
          <h2>Earnings History</h2>
          <canvas id="earnings-history-chart" class="chart-large"></canvas>
        </div>

        <div class="card">
          <h2>Performance Summary</h2>
          <div class="summary-stats">
            <div class="summary-item">
              <span class="summary-label">Average Hashrate</span>
              <span class="summary-value" id="avg-hashrate">0 H/s</span>
            </div>
            <div class="summary-item">
              <span class="summary-label">Total Shares</span>
              <span class="summary-value" id="total-shares">0</span>
            </div>
            <div class="summary-item">
              <span class="summary-label">Accept Rate</span>
              <span class="summary-value" id="accept-rate">0%</span>
            </div>
            <div class="summary-item">
              <span class="summary-label">Total Earnings</span>
              <span class="summary-value" id="total-earnings">0.00000000 BTC</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Settings Page -->
    <div id="settings-page" class="page">
      <div class="page-header">
        <h1>Settings</h1>
      </div>

      <div class="settings-container">
        <div class="card">
          <h2>General Settings</h2>
          <div class="settings-group">
            <div class="setting-item">
              <label>Language</label>
              <select id="language-select" class="form-select">
                <option value="en">English</option>
                <option value="ja">日本語</option>
                <option value="zh">中文</option>
                <option value="ko">한국어</option>
                <option value="es">Español</option>
              </select>
            </div>
            <div class="setting-item">
              <label>Theme</label>
              <select id="theme-select" class="form-select">
                <option value="dark">Dark</option>
                <option value="light">Light</option>
                <option value="auto">Auto</option>
              </select>
            </div>
            <div class="setting-item">
              <label>Notifications</label>
              <label class="toggle-switch">
                <input type="checkbox" id="notifications-toggle" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>
        </div>

        <div class="card">
          <h2>Mining Settings</h2>
          <div class="settings-group">
            <div class="setting-item">
              <label>Auto Start Mining</label>
              <label class="toggle-switch">
                <input type="checkbox" id="auto-start-toggle">
                <span class="toggle-slider"></span>
              </label>
            </div>
            <div class="setting-item">
              <label>Start Minimized</label>
              <label class="toggle-switch">
                <input type="checkbox" id="start-minimized-toggle">
                <span class="toggle-slider"></span>
              </label>
            </div>
            <div class="setting-item">
              <label>Minimize to Tray</label>
              <label class="toggle-switch">
                <input type="checkbox" id="minimize-tray-toggle" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>
            <div class="setting-item">
              <label>Idle Mining</label>
              <label class="toggle-switch">
                <input type="checkbox" id="idle-mining-toggle">
                <span class="toggle-slider"></span>
              </label>
            </div>
            <div class="setting-item" id="idle-threshold-setting">
              <label>Idle Threshold (minutes)</label>
              <input type="number" id="idle-threshold" class="form-input" min="1" max="60" value="5">
            </div>
          </div>
        </div>

        <div class="card">
          <h2>Advanced Settings</h2>
          <div class="settings-group">
            <div class="setting-item">
              <label>Auto Update</label>
              <label class="toggle-switch">
                <input type="checkbox" id="auto-update-toggle" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>
            <div class="setting-item">
              <label>Debug Mode</label>
              <label class="toggle-switch">
                <input type="checkbox" id="debug-mode-toggle">
                <span class="toggle-slider"></span>
              </label>
            </div>
            <div class="setting-item">
              <button class="secondary-button" id="reset-settings">Reset to Defaults</button>
            </div>
          </div>
        </div>

        <div class="settings-actions">
          <button class="primary-button" id="save-settings">Save Settings</button>
        </div>
      </div>
    </div>
  </main>

  <!-- Notification Toast -->
  <div id="notification-toast" class="notification-toast"></div>

  <!-- Log Modal -->
  <div id="log-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Mining Logs</h2>
        <button class="modal-close" id="close-log-modal">&times;</button>
      </div>
      <div class="modal-body">
        <div class="log-container" id="log-content"></div>
      </div>
      <div class="modal-footer">
        <button class="secondary-button" id="clear-logs">Clear Logs</button>
        <button class="secondary-button" id="export-logs">Export Logs</button>
      </div>
    </div>
  </div>

  <script src="renderer.js"></script>
</body>
</html>