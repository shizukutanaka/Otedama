# Otedama - Корпоративен P2P Майнинг Пул и Софтуер за Майнинг

**Лиценз**: MIT  
**Go Версия**: 1.21+  
**Архитектура**: Микроуслуги с поддръжка на P2P пул  

Otedama е корпоративен P2P майнинг пул и софтуер за майнинг, проектиран за максимална ефективност и надеждност. Изграден според принципите на дизайн на John Carmack (производителност), Robert C. Martin (чиста архитектура) и Rob Pike (простота), поддържа цялостен CPU/GPU/ASIC майнинг с национална мащабируемост.

## Архитектура

### P2P Майнинг Пул
- **Разпределено Управление на Пула**: Разпределен майнинг пул с автоматично превключване при отказ
- **Разпределение на Възнаграждения**: Усъвършенствани PPS/PPLNS алгоритми с поддръжка на множество валути
- **Федерационен Протокол**: Комуникация между пулове за подобрена устойчивост
- **Мониторинг на Национално Ниво**: Корпоративен мониторинг подходящ за правителствени внедрявания

### Функции за Майнинг
- **Мулти-Алгоритъм**: SHA256d, Ethash, RandomX, Scrypt, KawPow
- **Универсален Хардуер**: Оптимизиран за CPU, GPU (CUDA/OpenCL), ASIC
- **Усъвършенстван Stratum**: Пълна v1/v2 поддръжка с разширения за високопроизводителни майнери
- **Zero-Copy Оптимизации**: Кеш-съзнателни структури от данни и NUMA-съзнателна памет

### Корпоративни Функции
- **Готов за Производство**: Docker/Kubernetes внедряване с автоматично мащабиране
- **Корпоративна Сигурност**: DDoS защита, ограничаване на скоростта, цялостен одит
- **Висока Наличност**: Многонодова настройка с автоматично превключване при отказ
- **Анализ в Реално Време**: WebSocket API с интеграция на табло за управление на живо

## Изисквания

- Go 1.21 или по-нова версия
- Linux, macOS, Windows
- Хардуер за майнинг (CPU/GPU/ASIC)
- Мрежова връзка към майнинг пула

## Инсталация

### От изходен код

```bash
# Изграждане в директорията с изходен код
cd Otedama

# Изграждане на двоичен файл
make build

# Инсталиране в системата
make install
```

### Използване на Go Build

```bash
go build ./cmd/otedama
```

### Docker Производство

```bash
# Производствено внедряване
docker build -f Dockerfile.production -t otedama:production .
docker run -d --name otedama \
  -v ./config.yaml:/app/config/config.yaml:ro \
  -v otedama_data:/app/data \
  -p 3333:3333 -p 8080:8080 \
  otedama:production
```

### Kubernetes

```bash
# Внедряване на пълен стек
kubectl apply -f k8s/
```

## Бърз Старт

### 1. Конфигурация

```yaml
# Производствена конфигурация с поддръжка на P2P пул
app:
  name: "Otedama"
  mode: "production"

mining:
  algorithm: "sha256d"
  enable_cpu: true
  enable_gpu: true
  enable_asic: true
  
  cpu:
    threads: 0 # Автоматично откриване
    priority: "normal"
  
  gpu:
    devices: [] # Автоматично откриване на всички устройства
    intensity: 20
    temperature_limit: 85
  
  asic:
    devices: [] # Автоматично откриване
    poll_interval: 5s

pool:
  enable: true
  address: "0.0.0.0:3333"
  max_connections: 10000
  fee_percentage: 1.0
  rewards:
    system: "PPLNS"
    window: 2h

api:
  enable: true
  address: "0.0.0.0:8080"
  auth:
    enabled: true
    token_expiry: 24h

monitoring:
  metrics:
    enabled: true
    address: "0.0.0.0:9090"
  health:
    enabled: true
    address: "0.0.0.0:8081"
```

### 2. Опции за Внедряване

```bash
# Разработка
./otedama serve --config config.yaml

# Производствен Docker
docker-compose -f docker-compose.production.yml up -d

# Корпоративен Kubernetes
kubectl apply -f k8s/

# Ръчно производствено внедряване
sudo ./scripts/production-deploy.sh
```

### 3. Мониторинг на Производителността

```bash
# Проверка на състоянието
./otedama status

# Преглед на логове
tail -f logs/otedama.log

# API крайна точка
curl http://localhost:8080/api/status
```

## Производителност

Otedama е оптимизирана за максимална ефективност:

- **Използване на Памет**: Оптимизирана за минимален отпечатък на паметта
- **Размер на Двоичния Файл**: Компактен размер (~15MB)
- **Време за Стартиране**: <500ms
- **CPU Натоварване**: <1% за мониторинг

## API Справка

### REST Крайни Точки

- `GET /api/status` - Състояние на майнинга
- `GET /api/stats` - Подробни статистики
- `GET /api/workers` - Информация за работниците
- `POST /api/mining/start` - Стартиране на майнинг
- `POST /api/mining/stop` - Спиране на майнинг

### WebSocket

Свържете се към `ws://localhost:8080/api/ws` за актуализации в реално време.

## Внедряване

### Docker Compose

```yaml
version: '3.8'
services:
  otedama:
    build: .
    volumes:
      - ./config.yaml:/config.yaml
    ports:
      - "8080:8080"
      - "3333:3333"
    restart: unless-stopped
```

### Kubernetes

```bash
kubectl apply -f k8s/
```

## Принос

Приносите са добре дошли! Моля, следвайте стандартните практики за разработка:

1. Създайте функционален клон
2. Направете промени
3. Тествайте щателно
4. Изпратете за преглед

## Лиценз

Този проект е лицензиран под MIT лиценз - вижте файла [LICENSE](LICENSE) за подробности.

## Благодарности

- Разработчиците на Bitcoin Core за протоколите за майнинг
- Go общността за отличните библиотеки
- Всички сътрудници и потребители на Otedama

## Поддръжка

- Проверете документацията в директорията `docs/`
- Прегледайте примерите за конфигурация в `config.example.yaml`
- Консултирайте се с API документацията на `/api/docs` по време на работа

## Дарения

Ако намирате Otedama за полезна, моля помислете за подкрепа на разработката:

**Bitcoin (BTC)**: `1GzHriuokSrZYAZEEWoL7eeCCXsX3WyLHa`

Вашата подкрепа помага за поддържането и подобряването на Otedama!

---

**⚠️ Важно**: Майнингът на криптовалути консумира значителни изчислителни ресурси и електричество. Моля, разберете разходите и въздействието върху околната среда преди да започнете майнинг.