# Otedama Mining Pool - Environment Configuration Template
# Copy this file to .env and configure your values

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Environment
NODE_ENV=production
LOG_LEVEL=info

# Server Configuration
API_PORT=4444
STRATUM_PORT=3333
WS_PORT=3334
PROMETHEUS_PORT=9090

# Pool Configuration
POOL_NAME="Otedama Mining Pool"
POOL_HOST=0.0.0.0
POOL_FEE=1.0
MINIMUM_PAYOUT=0.01
PAYOUT_INTERVAL=3600

# Mining Configuration
DEFAULT_ALGORITHM=sha256
SUPPORTED_ALGORITHMS=sha256,scrypt,ethash,randomx,kawpow
ENABLE_VARDIFF=true
MIN_DIFFICULTY=1
MAX_DIFFICULTY=1000000
TARGET_TIME=30
VARIANCE_PERCENT=30
RETARGET_TIME=120

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database
DB_HOST=localhost
DB_PORT=5432
DB_NAME=otedama_mining
DB_USER=otedama_user
DB_PASSWORD=your_secure_database_password
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30000

# SQLite (Alternative - for development/testing)
SQLITE_PATH=./data/otedama.db

# =============================================================================
# REDIS CACHE CONFIGURATION
# =============================================================================

REDIS_ENABLED=true
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password
REDIS_DB=0
REDIS_MAX_RETRIES=3

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Authentication
JWT_SECRET=your_jwt_secret_key_32_characters_long
JWT_EXPIRES_IN=24h
SESSION_SECRET=your_session_secret_key

# Encryption
ENCRYPTION_KEY=your_32_character_encryption_key_here
ENCRYPTION_ALGORITHM=aes-256-gcm

# CORS
CORS_ORIGINS=*
CORS_CREDENTIALS=true

# Rate Limiting
ENABLE_RATE_LIMITING=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=1000
RATE_LIMIT_MAX_PER_IP=100

# DDoS Protection
ENABLE_DDOS_PROTECTION=true
DDOS_THRESHOLD=10000
MAX_CONNECTIONS_PER_IP=100

# Security Headers
ENABLE_SECURITY_HEADERS=true
ENABLE_HSTS=true
ENABLE_CSP=true

# Intrusion Detection
ENABLE_INTRUSION_DETECTION=true
ENABLE_AUDIT_LOGGING=true

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================

# Monitoring
ENABLE_MONITORING=true
ENABLE_SYSTEM_MONITORING=true
ENABLE_APPLICATION_MONITORING=true
ENABLE_MINING_MONITORING=true
ENABLE_NETWORK_MONITORING=true
ENABLE_SECURITY_MONITORING=true

# Metrics & Alerting
ENABLE_PROMETHEUS_METRICS=true
ENABLE_ALERTS=true
ENABLE_DASHBOARD=true
UPDATE_INTERVAL=30000
RETENTION_PERIOD=604800000

# Alert Thresholds
CPU_USAGE_THRESHOLD=80
MEMORY_USAGE_THRESHOLD=85
DISK_USAGE_THRESHOLD=90
ERROR_RATE_THRESHOLD=5
RESPONSE_TIME_THRESHOLD=1000
HASHRATE_DROP_THRESHOLD=20

# =============================================================================
# PERFORMANCE OPTIMIZATION
# =============================================================================

# General Performance
ENABLE_OPTIMIZATION=true
ENABLE_MEMORY_OPTIMIZATION=true
ENABLE_NETWORK_OPTIMIZATION=true
ENABLE_CPU_OPTIMIZATION=true

# Threading
MINING_THREADS=auto
MINING_INTENSITY=medium
BATCH_SIZE=1000000

# Hardware Optimization
ENABLE_SIMD=true
ENABLE_AVX=true
ENABLE_SSE=true
THREAD_AFFINITY=false
GPU_ACCELERATION=false

# Memory Management
ENABLE_MEMORY_POOLING=true
GC_THRESHOLD=0.8
POOL_SIZE=100
MAX_BUFFER_SIZE=16777216
MEMORY_MONITOR_INTERVAL=10000

# Network Optimization
ENABLE_COMPRESSION=true
ENABLE_KEEP_ALIVE=true
ENABLE_BATCHING=true
CONNECTION_TIMEOUT=30000
NETWORK_BATCH_SIZE=100
NETWORK_BATCH_TIMEOUT=10
BUFFER_SIZE=65536

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Levels: error, warn, info, debug, trace
LOG_LEVEL=info
LOG_FORMAT=json
LOG_DIR=./logs

# Log Categories
LOG_MINING=info
LOG_STRATUM=info
LOG_SECURITY=warn
LOG_PERFORMANCE=debug
LOG_NETWORK=info

# Log Rotation
MAX_LOG_SIZE=100MB
MAX_LOG_FILES=10

# =============================================================================
# BACKUP & RECOVERY
# =============================================================================

# Backup Configuration
ENABLE_BACKUP=true
BACKUP_STRATEGY=adaptive
BACKUP_SCHEDULE_DAILY=0 2 * * *
BACKUP_SCHEDULE_WEEKLY=0 3 * * 0
BACKUP_SCHEDULE_MONTHLY=0 4 1 * *
RETENTION_DAILY=7
RETENTION_WEEKLY=4
RETENTION_MONTHLY=6

# S3 Backup (Optional)
S3_ENABLED=false
AWS_S3_BUCKET=your-backup-bucket
AWS_ACCESS_KEY_ID=your-access-key-id
AWS_SECRET_ACCESS_KEY=your-secret-access-key
AWS_REGION=us-east-1

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================

# SSL Configuration
ENABLE_SSL=false
SSL_CERT_PATH=./ssl/cert.pem
SSL_KEY_PATH=./ssl/key.pem
SSL_PORT=3334

# Let's Encrypt (for production)
ACME_EMAIL=admin@yourdomain.com
DOMAIN=yourdomain.com

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Price Feed APIs
ENABLE_PRICE_FEEDS=true
COINBASE_API_KEY=your_coinbase_api_key
BINANCE_API_KEY=your_binance_api_key
COINGECKO_API_KEY=your_coingecko_api_key

# Notification Services
ENABLE_NOTIFICATIONS=false
DISCORD_WEBHOOK_URL=your_discord_webhook_url
SLACK_WEBHOOK_URL=your_slack_webhook_url
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_telegram_chat_id

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_email_password
SMTP_FROM=noreply@yourdomain.com

# =============================================================================
# DOCKER & DEPLOYMENT
# =============================================================================

# Docker Configuration
DOCKER_REGISTRY=docker.io
DOCKER_IMAGE_TAG=latest
DOCKER_BUILD_DATE=
DOCKER_VCS_REF=

# Container Resources
CPU_LIMIT=2
MEMORY_LIMIT=4G
CPU_RESERVATION=1
MEMORY_RESERVATION=2G

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Development
DEBUG=false
ENABLE_DEBUG_LOGS=false
ENABLE_PROFILING=false

# Testing
ENABLE_TEST_MODE=false
TEST_DATABASE_URL=sqlite://./test.db
MOCK_EXTERNAL_APIS=false

# Feature Flags
ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_BETA_FEATURES=false

# =============================================================================
# ADVANCED CONFIGURATION
# =============================================================================

# Node.js Performance
NODE_OPTIONS=--max-old-space-size=2048 --gc-interval=100
UV_THREADPOOL_SIZE=16

# Cluster Configuration
CLUSTER_MODE=false
CLUSTER_WORKERS=auto

# Load Balancing
ENABLE_LOAD_BALANCING=false
LOAD_BALANCER_ALGORITHM=round_robin

# High Availability
ENABLE_HA=false
HA_CHECK_INTERVAL=30000
HA_FAILOVER_TIMEOUT=5000

# =============================================================================
# INSTRUCTIONS
# =============================================================================

# 1. Copy this file to .env: cp .env.template .env
# 2. Fill in all required values above
# 3. Never commit .env files to version control
# 4. Use strong, unique passwords and API keys
# 5. Enable SSL/TLS in production environments
# 6. Configure proper firewall rules
# 7. Monitor resource usage and adjust limits as needed
# 8. Regular security audits and updates are recommended
# 9. Backup configuration regularly
# 10. Test configuration in staging environment first